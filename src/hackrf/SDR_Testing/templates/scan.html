{% extends "base.html" %}

{% block content %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<div class="content">
	<div class="outer_ring_container">
		<div class="ring_container">
			<div id="r1" class="ring"></div>
			<div id="r2" class="ring"></div>
		</div>
	</div>
	<div class="status_container">
		<div class="status">
			<span id="scan_status" class="status_text">
				Starting Scan...
			</span>
		</div>
	</div>
</div>
<script type="text/javascript" charset="utf-8">
	var socket;
	$(document).ready(function() {
		socket = io.connect("http://" + document.domain + ":" + location.port);
		socket.on('update', function(data) {
			if (data.msg == "Done") {
				$('#scan_status')[0].innerHTML = "<a href='/results'>Done</a>";
			} else {
				$('#scan_status')[0].innerHTML = data.msg;
			}
		});
	});
</script>
{% endblock %}
